# Playwright Python Project ‚Äî CloudShop Automation

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CloudShop –Ω–∞ Playwright —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Python –∏ pytest.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
playwright_project/
‚îú‚îÄ‚îÄ pages/                    # Page Object Model
‚îÇ   ‚îú‚îÄ‚îÄ base_page.py         # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îú‚îÄ‚îÄ login_page.py        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ products_page.py     # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ data_generator.py    # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ tests/                    # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/                # –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_login.py
‚îÇ   ‚îî‚îÄ‚îÄ products/            # –¢–µ—Å—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ test_create_product.py
‚îÇ       ‚îú‚îÄ‚îÄ test_update_product.py
‚îÇ       ‚îî‚îÄ‚îÄ test_delete_product.py
‚îú‚îÄ‚îÄ config/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/                     # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ conftest.py              # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ fixtures
‚îú‚îÄ‚îÄ pytest.ini               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                      # –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ –≤ git)
‚îî‚îÄ‚îÄ .gitignore               # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python3 -m venv venv
source venv/bin/activate  # –ù–∞ macOS/Linux
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright:
```bash
playwright install
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest -v

# –¢–æ–ª—å–∫–æ smoke —Ç–µ—Å—Ç—ã (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ)
pytest -m smoke -v

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤
pytest -m products -v

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
pytest -m auth -v

# –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (P0)
pytest -m P0 -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å
pytest tests/products/ -v

# –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest -v -s

# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ç—Ä–µ–±—É–µ—Ç pytest-xdist)
pip install pytest-xdist
pytest -n 4 -v
```

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –ú–æ–¥—É–ª—å: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (4 —Ç–µ—Å—Ç–∞)
- **test_login_success** ‚Äî —É—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **test_login_invalid_password** ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å
- **test_login_empty_fields** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π
- **test_logout** ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

### –ú–æ–¥—É–ª—å: –¢–æ–≤–∞—Ä—ã ‚Äî CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (3 —Ç–µ—Å—Ç–∞)
- **test_create_product_with_all_fields** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏
- **test_edit_product** ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ + —Ü–µ–Ω–∞)
- **test_delete_product** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É)

**–í—Å–µ–≥–æ**: 7 –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤

## –ü–æ–∫—Ä—ã—Ç–∏–µ CRUD

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

| –û–ø–µ—Ä–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Å—Ç |
|----------|----------|------|
| **CREATE** | –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏ | `test_create_product.py` |
| **UPDATE** | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —Ü–µ–Ω—ã | `test_update_product.py` |
| **DELETE** | –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–≤ –∫–æ—Ä–∑–∏–Ω—É) | `test_delete_product.py` |

### –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–µ–π —Ç–æ–≤–∞—Ä–∞:
- ‚úÖ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
- ‚úÖ –®—Ç—Ä–∏—Ö-–∫–æ–¥
- ‚úÖ –ê—Ä—Ç–∏–∫—É–ª
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –¶–µ–Ω—ã: –∑–∞–∫—É–ø–∫–∞, –Ω–∞—Ü–µ–Ω–∫–∞, –ø—Ä–æ–¥–∞–∂–∞
- ‚úÖ –ì–∞–±–∞—Ä–∏—Ç—ã: –≤—ã—Å–æ—Ç–∞, —à–∏—Ä–∏–Ω–∞, –≥–ª—É–±–∏–Ω–∞
- ‚úÖ –í–µ—Å
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
- ‚ö†Ô∏è –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (searchable dropdown - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚ö†Ô∏è –°—Ç—Ä–∞–Ω–∞ (searchable dropdown - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚ö†Ô∏è –ö–æ–¥ –Ω–∞–ª–æ–≥–∞ (searchable dropdown - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
CLOUDSHOP_EMAIL=your_email@example.com
CLOUDSHOP_PASSWORD=your_password
```

## üîç –î–µ—Ç–∞–ª–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π

### CREATE (–°–æ–∑–¥–∞–Ω–∏–µ)
- –ù–∞–∂–∞—Ç–∏–µ "–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä" ‚Üí –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã ‚Üí "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π, –≤–∫–ª—é—á–∞—è searchable dropdown
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### UPDATE (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –ö–ª–∏–∫ –ø–æ —Å—Å—ã–ª–∫–µ —Ç–æ–≤–∞—Ä–∞ ‚Üí –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π ‚Üí "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- URL –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `/m/get/<product_id>`

### DELETE (–£–¥–∞–ª–µ–Ω–∏–µ)
- –ß–µ–∫–±–æ–∫—Å —Ç–æ–≤–∞—Ä–∞ ‚Üí dropdown "–î–µ–π—Å—Ç–≤–∏—è" ‚Üí "–£–¥–∞–ª–∏—Ç—å"
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ "–î–∞" –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- **–í–∞–∂–Ω–æ**: —Ç–æ–≤–∞—Ä—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É `/card/trash/`, –∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### –õ–æ–∫–∞—Ç–æ—Ä—ã

–í—Å–µ –ª–æ–∫–∞—Ç–æ—Ä—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–ª–∞—Å—Å–∞ `ProductsPage`:

```python
# –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
CREATE_BUTTON = 'a:has-text("–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä")'
SEARCH_INPUT = 'input[type="text"][placeholder*="–ø–æ–∏—Å–∫"]'

# –ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è
MODAL_NAME_INPUT = '[ui-view="modal"] input[type="text"]'
MODAL_BARCODE_INPUT = 'input[placeholder="–í–≤–µ–¥–∏—Ç–µ —à—Ç—Ä–∏—Ö-–∫–æ–¥"]'
MODAL_ARTICLE_INPUT = 'input[placeholder="–í–≤–µ–¥–∏—Ç–µ –∞—Ä—Ç–∏–∫—É–ª"]'
MODAL_DESCRIPTION_TEXTAREA = 'input[placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"]'

# –¶–µ–Ω—ã
MODAL_PURCHASE_PRICE_INPUT = '.field:has-text("–¶–µ–Ω–∞ –∑–∞–∫—É–ø–∫–∏") input[type="number"]'
MODAL_MARKUP_INPUT = '.field:has-text("–ù–∞—Ü–µ–Ω–∫–∞") input[type="number"]'
MODAL_PRICE_SALE_INPUT = '.field:has-text("–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏") input[type="number"]'

# –ì–∞–±–∞—Ä–∏—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ–º ng-model –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏!)
MODAL_HEIGHT_INPUT = 'input[ng-model="data.size.height_cm"]'
MODAL_WIDTH_INPUT = 'input[ng-model="data.size.width_cm"]'
MODAL_DEPTH_INPUT = 'input[ng-model="data.size.depth_cm"]'
MODAL_WEIGHT_INPUT = 'input[ng-model="data.size.weight_kg"]'
MODAL_MIN_STOCK_INPUT = '.field:has-text("–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫") input[type="number"]'

# –ö–Ω–æ–ø–∫–∏
SAVE_BUTTON = 'a.ui.button.green:has-text("–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")'
EDIT_BUTTON = 'text="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"'

# –£–¥–∞–ª–µ–Ω–∏–µ
ACTIONS_DROPDOWN = 'text="–î–µ–π—Å—Ç–≤–∏—è"'
DELETE_BUTTON_IN_DROPDOWN = 'div[ng-click="removeSelectedProducts()"]'
CONFIRM_YES_BUTTON = 'text="–î–∞"'
```

### –ú–µ—Ç–æ–¥—ã –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º

–õ–æ–≥–∏–∫–∞ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:

```python
def fill_product_form(**kwargs):
    # –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π –º–µ—Ç–æ–¥
    _fill_basic_fields()      # –ù–∞–∑–≤–∞–Ω–∏–µ, —à—Ç—Ä–∏—Ö-–∫–æ–¥, –∞—Ä—Ç–∏–∫—É–ª, –æ–ø–∏—Å–∞–Ω–∏–µ
    _fill_pricing()           # –¶–µ–Ω–∞ –∑–∞–∫—É–ø–∫–∏, –Ω–∞—Ü–µ–Ω–∫–∞, —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏
    _fill_dimensions()        # –í—ã—Å–æ—Ç–∞, —à–∏—Ä–∏–Ω–∞, –≥–ª—É–±–∏–Ω–∞, –≤–µ—Å
    # + –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
```

–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Playwright –ª–æ–∫–∞—Ç–æ—Ä—ã (–Ω–µ JavaScript), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥:
- **–ß–∏—Ç–∞–µ–º—ã–º** ‚Äî –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —è–≤–Ω–æ
- **–ù–∞–¥–µ–∂–Ω—ã–º** ‚Äî Playwright –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∂–¥–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º** ‚Äî –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–ª–µ

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ **headful** —Ä–µ–∂–∏–º–µ (—Å UI –±—Ä–∞—É–∑–µ—Ä–∞) –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
- –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
- –ü—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–∫—Ä–∏–Ω—à–æ—Ç
- **test_create_product.py** –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ 14 –ø–æ–ª–µ–π –ø–µ—Ä–µ–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∏ –ø–æ—Å–ª–µ
- –í—Å–µ –ª–æ–∫–∞—Ç–æ—Ä—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ Page Object –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

